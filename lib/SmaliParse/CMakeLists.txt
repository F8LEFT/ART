SET(TARGET_NAME SmaliParse)

set(SRC_FILE Lexer.cpp Parser.cpp Interpreter.cpp)

FILE(GLOB_RECURSE ART_HEADER ${ART_INCLUDE_DIR}/${TARGET_NAME}/*.h Ops/*.h)
aux_source_directory(SmaliAst SMALIAST_SRC)
INCLUDE_DIRECTORIES(.)

ADD_EXECUTABLE(SmaliParse_Test main.cpp ${SRC_FILE} ${ART_HEADER} ${SMALIAST_SRC})
TARGET_LINK_LIBRARIES(SmaliParse_Test ART_utils)
ADD_LIBRARY(SmaliParse ${SRC_FILE} ${ART_HEADER})
TARGET_LINK_LIBRARIES(SmaliParse ART_utils)
TARGET_INCLUDE_DIRECTORIES(SmaliParse PUBLIC .)